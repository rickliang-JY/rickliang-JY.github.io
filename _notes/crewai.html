<!DOCTYPE html><html><head>
      <title>crewai</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\hp\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.18\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="crewai-note">Crewai Note </h1>
<h2 id="multi-ai-agent-systems-with-crewai-442025">Multi AI Agent Systems with crewAI 4/4/2025 </h2>
<h3 id="overview">Overview </h3>
<h4 id="agentic-automation">Agentic Automation </h4>
<p><img src="image/crewai/1743794499764.png" alt="1743794499764"></p>
<h3 id="what-are-agent">What are agent? </h3>
<p>The agent is boen when you get this LLM to engage in an inner thinking process throughout it asks questions and anwer the same questions itself to the point that it can move on and get better by itself</p>
<p>Task -&gt; agent(Tools) -&gt; Answer</p>
<p>Multi Agent:</p>
<p>So whenever you task an agent with something, this agent can also task another agent with another task. In the end you get one single final answer</p>
<p><img src="image/crewai/1743795193491.png" alt="1743795193491"></p>
<h3 id="foundations-of-multi-agent-systems-and-crewai-create-agents-to-research-and-write-an-article">Foundations of Multi-Agent systems and CrewAI: Create agents to research and write an article </h3>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-from">from</span> crewai <span class="token keyword keyword-import">import</span> Agent<span class="token punctuation">,</span>Task<span class="token punctuation">,</span> Crew
</code></pre><h4 id="agent-planner-writer-editor">Agent: Planner, Writer, Editor </h4>
<p><strong>Note</strong>: The benefit of using <em>multiple strings</em> :</p>
<pre data-role="codeBlock" data-info="Python" class="language-python Python"><code>varname <span class="token operator">=</span> <span class="token string">"line 1 of text"</span>
          <span class="token string">"line 2 of text"</span>
</code></pre><p>versus the <em>triple quote docstring</em>:</p>
<pre data-role="codeBlock" data-info="Python" class="language-python Python"><code>varname <span class="token operator">=</span> <span class="token triple-quoted-string string">"""line 1 of text
             line 2 of text
          """</span>
</code></pre><p>is that it can avoid adding those whitespaces and newline characters, making it better formatted to be passed to the LLM.</p>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>planner <span class="token operator">=</span> Agent<span class="token punctuation">(</span>
    role<span class="token operator">=</span><span class="token string">"Content Planner"</span><span class="token punctuation">,</span>
    goal<span class="token operator">=</span><span class="token string">"Plan engaging and factually accurate content on {topic}"</span><span class="token punctuation">,</span>
    backstory<span class="token operator">=</span><span class="token string">"You're working on planning a blog article "</span>
              <span class="token string">"about the topic: {topic}."</span>
              <span class="token string">"You collect information that helps the "</span>
              <span class="token string">"audience learn something "</span>
              <span class="token string">"and make informed decisions. "</span>
              <span class="token string">"Your work is the basis for "</span>
              <span class="token string">"the Content Writer to write an article on this topic."</span><span class="token punctuation">,</span>
    allow_delegation<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
	verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code>writer <span class="token operator">=</span> Agent<span class="token punctuation">(</span>
    role<span class="token operator">=</span><span class="token string">"Content Writer"</span><span class="token punctuation">,</span>
    goal<span class="token operator">=</span><span class="token string">"Write insightful and factually accurate "</span>
         <span class="token string">"opinion piece about the topic: {topic}"</span><span class="token punctuation">,</span>
    backstory<span class="token operator">=</span><span class="token string">"You're working on a writing "</span>
              <span class="token string">"a new opinion piece about the topic: {topic}. "</span>
              <span class="token string">"You base your writing on the work of "</span>
              <span class="token string">"the Content Planner, who provides an outline "</span>
              <span class="token string">"and relevant context about the topic. "</span>
              <span class="token string">"You follow the main objectives and "</span>
              <span class="token string">"direction of the outline, "</span>
              <span class="token string">"as provide by the Content Planner. "</span>
              <span class="token string">"You also provide objective and impartial insights "</span>
              <span class="token string">"and back them up with information "</span>
              <span class="token string">"provide by the Content Planner. "</span>
              <span class="token string">"You acknowledge in your opinion piece "</span>
              <span class="token string">"when your statements are opinions "</span>
              <span class="token string">"as opposed to objective statements."</span><span class="token punctuation">,</span>
    allow_delegation<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code>editor <span class="token operator">=</span> Agent<span class="token punctuation">(</span>
    role<span class="token operator">=</span><span class="token string">"Editor"</span><span class="token punctuation">,</span>
    goal<span class="token operator">=</span><span class="token string">"Edit a given blog post to align with "</span>
         <span class="token string">"the writing style of the organization. "</span><span class="token punctuation">,</span>
    backstory<span class="token operator">=</span><span class="token string">"You are an editor who receives a blog post "</span>
              <span class="token string">"from the Content Writer. "</span>
              <span class="token string">"Your goal is to review the blog post "</span>
              <span class="token string">"to ensure that it follows journalistic best practices,"</span>
              <span class="token string">"provides balanced viewpoints "</span>
              <span class="token string">"when providing opinions or assertions, "</span>
              <span class="token string">"and also avoids major controversial topics "</span>
              <span class="token string">"or opinions when possible."</span><span class="token punctuation">,</span>
    allow_delegation<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>
</code></pre><h4 id="tasks--plan-write-edit">Tasks:  Plan, Write, Edit </h4>
<blockquote>
<p>Define your Tasks, and provide them a <code>description</code>, <code>expected_output</code> and <code>agent</code>.</p>
</blockquote>
<p><code>description</code>: what do you expect the agent to do?<br>
<code>expected_output</code>: Acts as a forcing function to force you to think exactly what you want to get out of the task, what you want this agent to produce as a final outcome.<br>
<code>agent</code>: assign the agent to the task</p>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>plan <span class="token operator">=</span> Task<span class="token punctuation">(</span>
    description<span class="token operator">=</span><span class="token punctuation">(</span>
        <span class="token string">"1. Prioritize the latest trends, key players, "</span>
            <span class="token string">"and noteworthy news on {topic}.\n"</span>
        <span class="token string">"2. Identify the target audience, considering "</span>
            <span class="token string">"their interests and pain points.\n"</span>
        <span class="token string">"3. Develop a detailed content outline including "</span>
            <span class="token string">"an introduction, key points, and a call to action.\n"</span>
        <span class="token string">"4. Include SEO keywords and relevant data or sources."</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    expected_output<span class="token operator">=</span><span class="token string">"A comprehensive content plan document "</span>
        <span class="token string">"with an outline, audience analysis, "</span>
        <span class="token string">"SEO keywords, and resources."</span><span class="token punctuation">,</span>
    agent<span class="token operator">=</span>planner<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code>write <span class="token operator">=</span> Task<span class="token punctuation">(</span>
    description<span class="token operator">=</span><span class="token punctuation">(</span>
        <span class="token string">"1. Use the content plan to craft a compelling "</span>
            <span class="token string">"blog post on {topic}.\n"</span>
        <span class="token string">"2. Incorporate SEO keywords naturally.\n"</span>
		<span class="token string">"3. Sections/Subtitles are properly named "</span>
            <span class="token string">"in an engaging manner.\n"</span>
        <span class="token string">"4. Ensure the post is structured with an "</span>
            <span class="token string">"engaging introduction, insightful body, "</span>
            <span class="token string">"and a summarizing conclusion.\n"</span>
        <span class="token string">"5. Proofread for grammatical errors and "</span>
            <span class="token string">"alignment with the brand's voice.\n"</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    expected_output<span class="token operator">=</span><span class="token string">"A well-written blog post "</span>
        <span class="token string">"in markdown format, ready for publication, "</span>
        <span class="token string">"each section should have 2 or 3 paragraphs."</span><span class="token punctuation">,</span>
    agent<span class="token operator">=</span>writer<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code>edit <span class="token operator">=</span> Task<span class="token punctuation">(</span>
    description<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"Proofread the given blog post for "</span>
                 <span class="token string">"grammatical errors and "</span>
                 <span class="token string">"alignment with the brand's voice."</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    expected_output<span class="token operator">=</span><span class="token string">"A well-written blog post in markdown format, "</span>
                    <span class="token string">"ready for publication, "</span>
                    <span class="token string">"each section should have 2 or 3 paragraphs."</span><span class="token punctuation">,</span>
    agent<span class="token operator">=</span>editor
<span class="token punctuation">)</span>
</code></pre><h4 id="creating-the-crew-combine-you-agents-and-tasks">Creating the Crew: combine you agents and tasks </h4>
<ul>
<li>Create your crew of Agents</li>
<li>Pass the tasks to be performed by those agents.
<ul>
<li><strong>Note</strong>: <em>For this simple example</em>, the tasks will be performed sequentially (i.e they are dependent on each other), so the <em>order</em> of the task in the list <em>matters</em>.</li>
</ul>
</li>
<li><code>verbose=2</code> allows you to see all the logs of the execution.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>crew <span class="token operator">=</span> Crew<span class="token punctuation">(</span>
    agents<span class="token operator">=</span><span class="token punctuation">[</span>planner<span class="token punctuation">,</span> writer<span class="token punctuation">,</span> editor<span class="token punctuation">]</span><span class="token punctuation">,</span>
    tasks<span class="token operator">=</span><span class="token punctuation">[</span>plan<span class="token punctuation">,</span> write<span class="token punctuation">,</span> edit<span class="token punctuation">]</span><span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token number">2</span>
<span class="token punctuation">)</span>
</code></pre><p><code>verbose</code>(equal 1 or 2) allows us to see how this crew is exrcuting and look at some of its logs</p>
<p>The task is operated i order, it's important given that the output of one task is going to be sent as part of the inpiut for the next?</p>
<h4 id="how-to-run-the-crew">how to run the crew </h4>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>result <span class="token operator">=</span> crew<span class="token punctuation">.</span>kickoff<span class="token punctuation">(</span>inputs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"topic"</span><span class="token punctuation">:</span> <span class="token string">"Artificial Intelligence"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-from">from</span> IPython<span class="token punctuation">.</span>display <span class="token keyword keyword-import">import</span> Markdown
Markdown<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><h3 id="key-elements-of-ai-agents">Key Elements of AI agents </h3>
<h4 id="role-playing">Role Playing </h4>
<p>Role playing can make a huge difference on the responses that you're going to get from agent.<br>
The ability for them to kind of like just take the shape or form or function for something else will have a direct impact on what kind of answers you're going to get and kind of lik what are you going for.</p>
<p>Example:<br>
Ask: Give me an analysis on the tesla stock</p>
<p>Ask: You are a FINRA approved financial analyst. give me an analysis on tesla stock</p>
<p>When building agent makesure you are setting the <mark>appropriate roles, the appropriate goals, and the appropriate backstories</mark>, because that will paly a role in the kind of results that you are going to get.</p>
<h4 id="focus">Focus </h4>
<p>Too much tools, too much information, or too much context, you models can lose imprtant information amd also open uo opportunities for more hallucination.</p>
<p>Use different agents let them seperate the work<br>
Choose the tools that you are going to give your agents. You want to make sure that you are providing them with the key tools to do the job they need.</p>
<h4 id="cooperation">Cooperation </h4>
<p>The ability for these agents, they are now role playing to talk to each other and simulate that same chat behavior creates a better result.<br>
They can basically <strong>take feedback</strong> from each other, they can <strong>delegate tasks</strong> to each other, and by doing that, produce a better outcome</p>
<h4 id="guardrails">Guardrails </h4>
<p>AI applications imply fuzzy inputs, fuzzy transformations and fuzzy outputs. That means that you do not necessarily will get stong typed results.</p>
<p>Throught many iterations, crewai implemented a series of guardrails that prevents your agent from derailing and nudgr your agents to stay on track, and most of those are implemented on the framework level.</p>
<p>These guardrails are going yo make sure to prevent hallucinations and to also make sure that you get a reliable and consistnet result throughout your multi-agent systems.</p>
<h4 id="memory">Memory </h4>
<p>Memory is the ability for your agent to remember what it has done, and not only that, but to use that to inform new decisions and new executions.<br>
The ability to recollect what they did in the past, learn from it, and apply that knowledge into future execution.<br>
In the crewai:</p>
<ol>
<li><strong>Long-term memory</strong>
<ul>
<li>Memory during execution of a task</li>
<li>Share knowledge,activites, and learnings with other agents</li>
<li>Share intermediate information even before prociding "task completion" output.</li>
</ul>
</li>
</ol>
<p>Short term memory is a memory that lives only during the crew execution. Every time that you run a crew ad you kick it off, it strats from the blank. This memory is useful because as different agents try to accomplish different tasks, they store different things that they learn in this memory. And this memory is shared across all the agents, meaning that an agent number 2 or 4 can tap into learnings form agent number 1.<br>
So tthe short term memory is something that helps to share context during the crew execution, so that you get better outcomes.</p>
<ol start="2">
<li><strong>Short-term memory</strong>
<ul>
<li>Memory stored after execution of curent tasks.</li>
<li>Long term memory can be used in any future tasks,</li>
<li>Lead "self-improving agents".</li>
</ul>
</li>
</ol>
<p>Long term memory is <strong>stored in a database locally</strong>, and that allows yuor angent to learn form previous exectuations. So every time that your agent completes a task, it <strong>self-critiques</strong> itself to learn what it could have done better, or what are the things that should be in there that are not.</p>
<ol start="3">
<li><strong>Entity memory</strong><br>
It is only during the excution, it stores what are subjects that are be discussing. So if your agent is trying to learn smething abut a specific company it maight store that company as an entity and its understanding of this company in this database as well.</li>
</ol>
<h3 id="code-multi-agent-custimer-support-automation">Code: Multi agent custimer support automation </h3>
<p>In this lesson, you will learn about the six key elements which help make Agents perform even better:</p>
<ul>
<li>Role Playing</li>
<li>Focus</li>
<li>Tools</li>
<li>Cooperation</li>
<li>Guardrails</li>
<li>Memory</li>
</ul>
<p>The libraries are already installed in the classroom. If you're running this notebook on your own machine, you can install the following:</p>
<pre data-role="codeBlock" data-info="Python" class="language-python Python"><code>!pip install crewai<span class="token operator">==</span><span class="token number">0.28</span><span class="token number">.8</span> crewai_tools<span class="token operator">==</span><span class="token number">0.1</span><span class="token number">.6</span> langchain_community<span class="token operator">==</span><span class="token number">0.0</span><span class="token number">.29</span>
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token comment"># Warning control</span>
<span class="token keyword keyword-import">import</span> warnings
warnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span>
</code></pre><ul>
<li>Import libraries, API and LLM</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-from">from</span> crewai <span class="token keyword keyword-import">import</span> Agent<span class="token punctuation">,</span> Task<span class="token punctuation">,</span> Crew
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-import">import</span> os
<span class="token keyword keyword-from">from</span> utils <span class="token keyword keyword-import">import</span> get_openai_api_key

openai_api_key <span class="token operator">=</span> get_openai_api_key<span class="token punctuation">(</span><span class="token punctuation">)</span>
os<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">"OPENAI_MODEL_NAME"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'gpt-3.5-turbo'</span>
</code></pre><h4 id="role-playing-focus-and-cooperation">Role Playing, Focus and Cooperation </h4>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>support_agent <span class="token operator">=</span> Agent<span class="token punctuation">(</span>
    role<span class="token operator">=</span><span class="token string">"Senior Support Representative"</span><span class="token punctuation">,</span>
	goal<span class="token operator">=</span><span class="token string">"Be the most friendly and helpful "</span>
        <span class="token string">"support representative in your team"</span><span class="token punctuation">,</span>
	backstory<span class="token operator">=</span><span class="token punctuation">(</span>
		<span class="token string">"You work at crewAI (https://crewai.com) and "</span>
        <span class="token string">" are now working on providing "</span>
		<span class="token string">"support to {customer}, a super important customer "</span>
        <span class="token string">" for your company."</span>
		<span class="token string">"You need to make sure that you provide the best support!"</span>
		<span class="token string">"Make sure to provide full complete answers, "</span>
        <span class="token string">" and make no assumptions."</span>
	<span class="token punctuation">)</span><span class="token punctuation">,</span>
	allow_delegation<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
	verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>
</code></pre><p><img src="image/crewai/1743802736381.png" alt="1743802736381"></p>
<ul>
<li>By not setting <code>allow_delegation=False</code>, <code>allow_delegation</code> takes its default value of being <code>True</code>.</li>
<li>This means the agent <em>can</em> delegate its work to another agent which is better suited to do a particular task.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>support_quality_assurance_agent <span class="token operator">=</span> Agent<span class="token punctuation">(</span>
	role<span class="token operator">=</span><span class="token string">"Support Quality Assurance Specialist"</span><span class="token punctuation">,</span>
	goal<span class="token operator">=</span><span class="token string">"Get recognition for providing the "</span>
    <span class="token string">"best support quality assurance in your team"</span><span class="token punctuation">,</span>
	backstory<span class="token operator">=</span><span class="token punctuation">(</span>
		<span class="token string">"You work at crewAI (https://crewai.com) and "</span>
        <span class="token string">"are now working with your team "</span>
		<span class="token string">"on a request from {customer} ensuring that "</span>
        <span class="token string">"the support representative is "</span>
		<span class="token string">"providing the best support possible.\n"</span>
		<span class="token string">"You need to make sure that the support representative "</span>
        <span class="token string">"is providing full"</span>
		<span class="token string">"complete answers, and make no assumptions."</span>
	<span class="token punctuation">)</span><span class="token punctuation">,</span>
	verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>
</code></pre><ul>
<li><strong>Role Playing</strong>: Both agents have been given a role, goal and backstory.</li>
<li><strong>Focus</strong>: Both agents have been prompted to get into the character of the roles they are playing.</li>
<li><strong>Cooperation</strong>: Support Quality Assurance Agent can delegate work back to the Support Agent, allowing for these agents to work together.</li>
</ul>
<h4 id="tools-guardrails-and-memory">Tools, Guardrails and Memory </h4>
<h5 id="tools">Tools </h5>
<ul>
<li>Import CrewAI tools</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-from">from</span> crewai_tools <span class="token keyword keyword-import">import</span> SerperDevTool<span class="token punctuation">,</span> \
                         ScrapeWebsiteTool<span class="token punctuation">,</span> \
                         WebsiteSearchTool
</code></pre><h5 id="possible-custom-tools">Possible Custom Tools </h5>
<ul>
<li>
<p>Load customer data</p>
</li>
<li>
<p>Tap into previous conversations</p>
</li>
<li>
<p>Load data from a CRM</p>
</li>
<li>
<p>Checking existing bug reports</p>
</li>
<li>
<p>Checking existing feature requests</p>
</li>
<li>
<p>Checking ongoing tickets</p>
</li>
<li>
<p>... and more</p>
</li>
<li>
<p>Some ways of using CrewAI tools.</p>
</li>
</ul>
<pre data-role="codeBlock" data-info="Python" class="language-python Python"><code>search_tool <span class="token operator">=</span> SerperDevTool<span class="token punctuation">(</span><span class="token punctuation">)</span>
scrape_tool <span class="token operator">=</span> ScrapeWebsiteTool<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><ul>
<li>Instantiate a document scraper tool.</li>
<li>The tool will scrape a page (only 1 URL) of the CrewAI documentation.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>docs_scrape_tool <span class="token operator">=</span> ScrapeWebsiteTool<span class="token punctuation">(</span>
    website_url<span class="token operator">=</span><span class="token string">"https://docs.crewai.com/how-to/Creating-a-Crew-and-kick-it-off/"</span>
<span class="token punctuation">)</span>
</code></pre><h6 id="different-ways-to-give-agents-tools">Different Ways to Give Agents Tools </h6>
<ul>
<li>Agent Level: The Agent can use the Tool(s) on any Task it performs.</li>
<li>Task Level: The Agent will only use the Tool(s) when performing that specific Task.</li>
</ul>
<p><strong>Note</strong>: Task Tools override the Agent Tools.</p>
<h5 id="creating-tasks">Creating Tasks </h5>
<ul>
<li>You are passing the Tool on the Task Level.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>inquiry_resolution <span class="token operator">=</span> Task<span class="token punctuation">(</span>
    description<span class="token operator">=</span><span class="token punctuation">(</span>
        <span class="token string">"{customer} just reached out with a super important ask:\n"</span>
	    <span class="token string">"{inquiry}\n\n"</span>
        <span class="token string">"{person} from {customer} is the one that reached out. "</span>
		<span class="token string">"Make sure to use everything you know "</span>
        <span class="token string">"to provide the best support possible."</span>
		<span class="token string">"You must strive to provide a complete "</span>
        <span class="token string">"and accurate response to the customer's inquiry."</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    expected_output<span class="token operator">=</span><span class="token punctuation">(</span>
	    <span class="token string">"A detailed, informative response to the "</span>
        <span class="token string">"customer's inquiry that addresses "</span>
        <span class="token string">"all aspects of their question.\n"</span>
        <span class="token string">"The response should include references "</span>
        <span class="token string">"to everything you used to find the answer, "</span>
        <span class="token string">"including external data or solutions. "</span>
        <span class="token string">"Ensure the answer is complete, "</span>
		<span class="token string">"leaving no questions unanswered, and maintain a helpful and friendly "</span>
		<span class="token string">"tone throughout."</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
	tools<span class="token operator">=</span><span class="token punctuation">[</span>docs_scrape_tool<span class="token punctuation">]</span><span class="token punctuation">,</span>
    agent<span class="token operator">=</span>support_agent<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><ul>
<li><code>quality_assurance_review</code> is not using any Tool(s)</li>
<li>Here the QA Agent will only review the work of the Support Agent</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>quality_assurance_review <span class="token operator">=</span> Task<span class="token punctuation">(</span>
    description<span class="token operator">=</span><span class="token punctuation">(</span>
        <span class="token string">"Review the response drafted by the Senior Support Representative for {customer}'s inquiry. "</span>
        <span class="token string">"Ensure that the answer is comprehensive, accurate, and adheres to the "</span>
		<span class="token string">"high-quality standards expected for customer support.\n"</span>
        <span class="token string">"Verify that all parts of the customer's inquiry "</span>
        <span class="token string">"have been addressed "</span>
		<span class="token string">"thoroughly, with a helpful and friendly tone.\n"</span>
        <span class="token string">"Check for references and sources used to "</span>
        <span class="token string">" find the information, "</span>
		<span class="token string">"ensuring the response is well-supported and "</span>
        <span class="token string">"leaves no questions unanswered."</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    expected_output<span class="token operator">=</span><span class="token punctuation">(</span>
        <span class="token string">"A final, detailed, and informative response "</span>
        <span class="token string">"ready to be sent to the customer.\n"</span>
        <span class="token string">"This response should fully address the "</span>
        <span class="token string">"customer's inquiry, incorporating all "</span>
		<span class="token string">"relevant feedback and improvements.\n"</span>
		<span class="token string">"Don't be too formal, we are a chill and cool company "</span>
	    <span class="token string">"but maintain a professional and friendly tone throughout."</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    agent<span class="token operator">=</span>support_quality_assurance_agent<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

</code></pre><h5 id="creating-the-crew">Creating the Crew </h5>
<h6 id="memory-1">Memory </h6>
<ul>
<li>Setting <code>memory=True</code> when putting the crew together enables Memory.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>crew <span class="token operator">=</span> Crew<span class="token punctuation">(</span>
  agents<span class="token operator">=</span><span class="token punctuation">[</span>support_agent<span class="token punctuation">,</span> support_quality_assurance_agent<span class="token punctuation">]</span><span class="token punctuation">,</span>
  tasks<span class="token operator">=</span><span class="token punctuation">[</span>inquiry_resolution<span class="token punctuation">,</span> quality_assurance_review<span class="token punctuation">]</span><span class="token punctuation">,</span>
  verbose<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
  memory<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>
</code></pre><h5 id="running-the-crew">Running the Crew </h5>
<p><strong>Note</strong>: LLMs can provide different outputs for they same input, so what you get might be different than what you see in the video.</p>
<h6 id="guardrails-1">Guardrails </h6>
<ul>
<li>By running the execution below, you can see that the agents and the responses are within the scope of what we expect from them.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code>inputs <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"customer"</span><span class="token punctuation">:</span> <span class="token string">"DeepLearningAI"</span><span class="token punctuation">,</span>
    <span class="token string">"person"</span><span class="token punctuation">:</span> <span class="token string">"Andrew Ng"</span><span class="token punctuation">,</span>
    <span class="token string">"inquiry"</span><span class="token punctuation">:</span> <span class="token string">"I need help with setting up a Crew "</span>
               <span class="token string">"and kicking it off, specifically "</span>
               <span class="token string">"how can I add memory to my crew? "</span>
               <span class="token string">"Can you provide guidance?"</span>
<span class="token punctuation">}</span>
result <span class="token operator">=</span> crew<span class="token punctuation">.</span>kickoff<span class="token punctuation">(</span>inputs<span class="token operator">=</span>inputs<span class="token punctuation">)</span>
</code></pre><ul>
<li>Display the final result as Markdown.</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-from">from</span> IPython<span class="token punctuation">.</span>display <span class="token keyword keyword-import">import</span> Markdown
Markdown<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><h3 id="mental-framework-for-agent-creation">Mental Framework for agent creation </h3>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>